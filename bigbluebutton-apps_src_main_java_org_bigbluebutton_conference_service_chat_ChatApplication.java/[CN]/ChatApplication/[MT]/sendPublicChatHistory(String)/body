{
  List<ChatMessageVO> messages=roomsManager.getChatMessages(meetingID);
  List<Map<String,Object>> msgs=new ArrayList<Map<String,Object>>();
  for (  ChatMessageVO v : messages) {
    msgs.add(v.toMap());
  }
  Map<String,Object> messageToSend=new HashMap<String,Object>();
  messageToSend.put("count",new Integer(msgs.size()));
  messageToSend.put("messages",msgs);
  DirectClientMessage m=new DirectClientMessage(getMeetingId(),getBbbSession().getInternalUserID(),"ChatRequestMessageHistoryReply",messageToSend);
  connInvokerService.sendMessage(m);
}
