{
switch (event.getType()) {
case PipeConnectionEvent.PROVIDER_CONNECT_PUSH:
    if (event.getProvider() != this) {
      if (isWaiting) {
        schedulingService.removeScheduledJob(waitLiveJob);
        waitLiveJob=null;
        isWaiting=false;
      }
      sendPublishedStatus(currentItem);
    }
  break;
case PipeConnectionEvent.PROVIDER_DISCONNECT:
if (isPullMode) {
  sendStopStatus(currentItem);
}
 else {
  sendUnpublishedStatus(currentItem);
}
break;
case PipeConnectionEvent.CONSUMER_CONNECT_PULL:
if (event.getConsumer() == this) {
isPullMode=true;
}
break;
case PipeConnectionEvent.CONSUMER_CONNECT_PUSH:
if (event.getConsumer() == this) {
isPullMode=false;
}
break;
default :
break;
}
}
