{
  ArrayList<Recording> recs=new ArrayList<Recording>();
  if (meetingIds.isEmpty()) {
    if (shouldIncludeDir(filters,Recording.STATE_PUBLISHED))     meetingIds.addAll(getAllRecordingIds(publishedDir));
    if (shouldIncludeDir(filters,Recording.STATE_UNPUBLISHED))     meetingIds.addAll(getAllRecordingIds(unpublishedDir));
    if (shouldIncludeDir(filters,Recording.STATE_DELETED))     meetingIds.addAll(getAllRecordingIds(deletedDir));
    if (shouldIncludeDir(filters,Recording.STATE_PROCESSING))     meetingIds.addAll(getAllRecordingIds(processDir));
    if (shouldIncludeDir(filters,Recording.STATE_PROCESSED))     meetingIds.addAll(getAllRecordingIds(processDir));
  }
  for (  String meetingId : meetingIds) {
    if (shouldIncludeDir(filters,Recording.STATE_PUBLISHED)) {
      ArrayList<Recording> published=getRecordingsForPath(meetingId,recordingIdsFromFilters(filters),publishedDir);
      if (!published.isEmpty()) {
        recs.addAll(published);
      }
    }
    if (shouldIncludeDir(filters,Recording.STATE_UNPUBLISHED)) {
      ArrayList<Recording> unpublished=getRecordingsForPath(meetingId,recordingIdsFromFilters(filters),unpublishedDir);
      if (!unpublished.isEmpty()) {
        recs.addAll(unpublished);
      }
    }
    if (shouldIncludeDir(filters,Recording.STATE_DELETED)) {
      ArrayList<Recording> deleted=getRecordingsForPath(meetingId,recordingIdsFromFilters(filters),deletedDir);
      if (!deleted.isEmpty()) {
        recs.addAll(deleted);
      }
    }
    if (shouldIncludeDir(filters,Recording.STATE_PROCESSING)) {
      ArrayList<Recording> processing=getRecordingsForPath(meetingId,recordingIdsFromFilters(filters),processDir);
      if (!processing.isEmpty()) {
        recs.addAll(processing);
      }
    }
    if (shouldIncludeDir(filters,Recording.STATE_PROCESSED)) {
      ArrayList<Recording> processed=getRecordingsForPath(meetingId,recordingIdsFromFilters(filters),processDir);
      if (!processed.isEmpty()) {
        recs.addAll(processed);
      }
    }
  }
  return recs;
}
