{
  RecorderSession session;
  RedisDispatcher recorder=null;
  boolean createdSession=false;
  log.debug("Trying to create a record session for {}",sessionName);
synchronized (this) {
    log.debug("Checking if record session $sessionName is already present.");
    if (recordSessions == null) {
      log.debug("record session is null");
    }
 else {
      log.debug("record session is NOT null");
    }
    if (!recordSessions.containsKey(sessionName)) {
      log.debug("Creating redis dispatcher for " + conference + " "+ room);
      recorder=new RedisDispatcher(room);
      log.debug("Creating record session for {}",sessionName);
      session=new RecorderSession(conference,room);
      log.debug("Adding record session {} to record sessions",sessionName);
      recordSessions.put(session.getName(),session);
      log.debug("Setting recorder to record session {}",sessionName);
      session.setRecorder(recorder);
      createdSession=true;
      log.debug("Created record session {}",session.getName());
    }
 else {
      log.debug("Not creating record session");
    }
  }
  if (createdSession) {
  }
}
