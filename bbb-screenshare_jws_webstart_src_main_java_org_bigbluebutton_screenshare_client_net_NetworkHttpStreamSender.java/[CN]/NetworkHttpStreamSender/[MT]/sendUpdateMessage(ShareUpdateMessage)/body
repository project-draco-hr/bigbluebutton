{
  ClientHttpRequest chr;
  try {
    openConnection();
    chr=new ClientHttpRequest(conn);
    chr.setParameter(MEETING_ID,meetingId);
    chr.setParameter(STREAM_ID,streamId);
    chr.setParameter(EVENT,CaptureEvents.CAPTURE_UPDATE.getEvent());
    chr.post();
    HttpURLConnection httpConnection=(HttpURLConnection)chr.connection;
    int status=httpConnection.getResponseCode();
    System.out.println("******* sendUpdateMessage response code = [" + status + "] ***************");
    String sharingStatus=httpConnection.getHeaderField("SHARING_STATUS");
    if (sharingStatus != null) {
      System.out.println("******* sendUpdateMessage sharingStopped = [" + sharingStatus + "] ***************");
      if (sharingStatus.toUpperCase().equals("STOP")) {
        notifyNetworkStreamListener(ExitCode.NORMAL);
      }
 else       if (sharingStatus.toUpperCase().equals("PAUSE")) {
        notifyNetworkStreamListener(ExitCode.PAUSED);
        System.out.println("******* GOT HERE sendUpdateMessage sharingPaused = [" + sharingStatus + "] ***************");
      }
 else       if (sharingStatus.toUpperCase().equals("START")) {
        notifyNetworkStreamListener(ExitCode.START);
        System.out.println("******* GOT HERE sendUpdateMessage sharingStart = [" + sharingStatus + "] ***************");
      }
    }
  }
 catch (  IOException e) {
    System.out.println("Exception in sendUpdateMessage");
    notifyNetworkStreamListener(ExitCode.NORMAL);
  }
catch (  ConnectionException e) {
    System.out.println("ERROR: Failed to send block data.");
  }
}
