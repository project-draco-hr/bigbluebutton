{
  int len=readAMF3Integer();
  if (len == 1)   return "";
  if ((len & 1) == 0) {
    return stringReferences.get(len >> 1);
  }
  len>>=1;
  int limit=buf.limit();
  final java.nio.ByteBuffer strBuf=buf.buf();
  strBuf.limit(strBuf.position() + len);
  final String string=AMF3.CHARSET.decode(strBuf).toString();
  buf.limit(limit);
  stringReferences.add(string);
  return string;
}
