{
  Boolean record=(Boolean)msg.get("record");
  String meetingId=Red5.getConnectionLocal().getScope().getName();
  log.debug("Received startShareRequest for meeting=[{}]",meetingId);
  String userId=(String)Red5.getConnectionLocal().getAttribute("USERID");
  Map<String,String> event=new HashMap<String,String>();
  event.put("module","Deskshare");
  event.put("timestamp",genTimestamp().toString());
  event.put("meetingId",meetingId);
  event.put("userID",userId);
  event.put("eventName","AllowUserToShareDesktopRequest");
  AllowUserToShareDesktopRequest requestMsg=new AllowUserToShareDesktopRequest(meetingId,userId,genTimestamp());
  red5RedisSender.send(MessagingConstants.TO_USERS_CHANNEL,requestMsg.toJson());
  log.info("_______Red5AppService::startShareRequest");
}
