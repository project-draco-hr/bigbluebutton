{
  int len=64;
  byte[] nellyAudio=new byte[len];
  int remaining=len;
  int offset=0;
  while (processAudioData) {
    try {
      if (streamToSip.available() > 1000) {
        long skipped=streamToSip.skip(1000L);
        System.out.println("   Skipping RTMP audio bytes[" + skipped + "]");
      }
      int bytesRead=streamToSip.read(nellyAudio,offset,remaining);
      remaining-=bytesRead;
      if (remaining == 0) {
        remaining=len;
        offset=0;
        transcoder.transcode(nellyAudio,0,nellyAudio.length,new TranscodedAudioListener());
      }
 else {
        offset+=bytesRead;
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
