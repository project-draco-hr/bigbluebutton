{
  log.debug("startTranscodingStream({},{})",broadcastStream.getPublishedName(),scope.getName());
  mInputListener=new IStreamListener(){
    public void packetReceived(    IBroadcastStream broadcastStream,    IStreamPacket packet){
      IoBuffer buf=packet.getData();
      if (buf != null)       buf.rewind();
      if (buf == null || buf.remaining() == 0) {
        log.debug("skipping empty packet with no data");
        return;
      }
      if (packet instanceof AudioData) {
        byte[] data=SerializeUtils.ByteBufferToByteArray(buf);
        AudioByteData abd=new AudioByteData(data,System.currentTimeMillis());
        try {
          audioDataQ.put(abd);
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
      }
    }
  }
;
  broadcastStream.addStreamListener(mInputListener);
  rtpSender=new RtpStreamSender(srcSocket,connInfo);
  rtpSender.connect();
  processAudioData=true;
  audioDataProcessor=new Runnable(){
    public void run(){
      processAudioData();
    }
  }
;
  exec.execute(audioDataProcessor);
}
