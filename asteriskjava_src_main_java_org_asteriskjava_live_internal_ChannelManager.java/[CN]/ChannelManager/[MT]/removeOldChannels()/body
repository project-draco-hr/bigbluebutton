{
  Iterator<AsteriskChannelImpl> i;
synchronized (channels) {
    i=channels.iterator();
    while (i.hasNext()) {
      final AsteriskChannel channel=i.next();
      final Date dateOfRemoval=channel.getDateOfRemoval();
      if (channel.getState() == ChannelState.HUNGUP && dateOfRemoval != null) {
        final long diff=DateUtil.getDate().getTime() - dateOfRemoval.getTime();
        if (diff >= REMOVAL_THRESHOLD) {
          i.remove();
        }
      }
    }
  }
}
