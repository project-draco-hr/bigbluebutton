{
synchronized (this) {
    Block block=blockManager.getBlock(nextBlockToSend);
    nextBlockToSend++;
    if (nextBlockToSend > blocksMap.size())     nextBlockToSend=1;
    return block;
  }
}
