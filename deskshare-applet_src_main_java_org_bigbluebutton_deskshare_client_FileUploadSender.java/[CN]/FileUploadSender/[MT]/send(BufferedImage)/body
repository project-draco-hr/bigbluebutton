{
  try {
    URL url=new URL(urlString);
    conn=(HttpURLConnection)url.openConnection();
    conn.setDoInput(true);
    conn.setDoOutput(true);
    conn.setUseCaches(false);
    conn.setRequestMethod("POST");
    conn.setRequestProperty("Connection","Keep-Alive");
    conn.setRequestProperty("Content-Type","multipart/form-data;boundary=" + boundary);
    dos=new DataOutputStream(conn.getOutputStream());
    dos.writeBytes(twoHyphens + boundary + lineEnd);
    dos.writeBytes("Content-Disposition: form-data; name=\"upload\";" + " filename=\"" + exsistingFileName + "\""+ lineEnd);
    dos.writeBytes(lineEnd);
    ByteArrayOutputStream byteConvert=new ByteArrayOutputStream();
    try {
      ImageIO.write(screenCapture,"jpeg",byteConvert);
      buffer=byteConvert.toByteArray();
      System.out.println("Http-Sent: " + buffer.length);
    }
 catch (    IOException e) {
      System.out.println("IOException while converting screen capture.");
    }
    dos.write(buffer,0,buffer.length);
    dos.writeBytes(lineEnd);
    dos.writeBytes(twoHyphens + boundary + twoHyphens+ lineEnd);
    writeField("room",room);
    writeField("video",videoInfo);
    dos.flush();
    dos.close();
  }
 catch (  MalformedURLException ex) {
    System.out.println("From ServletCom CLIENT REQUEST:" + ex);
  }
catch (  IOException ioe) {
    System.out.println("From ServletCom CLIENT REQUEST:" + ioe);
  }
  try {
    inStream=new DataInputStream(conn.getInputStream());
    String str;
    while ((str=inStream.readLine()) != null) {
      System.out.println("Server response is: " + str);
      System.out.println("");
    }
    inStream.close();
  }
 catch (  IOException ioex) {
    System.out.println("From (ServerResponse): " + ioex);
  }
}
