{
  String room=decodeRoom(session,in);
  if (!"".equals(room)) {
    log.info("CaptureEndEvent for " + room);
    int seqNum=in.getInt();
    CaptureEndBlockEvent event=new CaptureEndBlockEvent(room,seqNum);
    out.write(event);
  }
 else {
    log.warn("Room is empty.");
  }
}
