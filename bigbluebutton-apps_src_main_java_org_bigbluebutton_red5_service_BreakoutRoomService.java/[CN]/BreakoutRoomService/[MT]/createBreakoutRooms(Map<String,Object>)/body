{
  IScope scope=Red5.getConnectionLocal().getScope();
  String meetingId=(String)msg.get("meetingId");
  Integer duration=(Integer)msg.get("durationInMinutes");
  ArrayList rooms=(ArrayList)msg.get("rooms");
  ArrayList<BreakoutRoomRequestPayload> breakoutRooms=new ArrayList<BreakoutRoomRequestPayload>();
  for (int i=0; i < rooms.size(); i++) {
    HashMap room=(HashMap)rooms.get(i);
    breakoutRooms.add(new BreakoutRoomRequestPayload(room.get("name").toString(),(ArrayList<String>)room.get("users")));
  }
  CreateBreakoutRoomsRequestPayload payload=new CreateBreakoutRoomsRequestPayload(meetingId,breakoutRooms,duration);
  red5GW.createBreakoutRooms(payload);
}
