{
  TokenRequest request=new TokenRequest();
  request.type=TokenRequestType.BEST_EFFORT;
  request.channel=channel;
  request.initialBC=bc;
  request.requestToken=upperLimitCount;
  if (processRequest(request)) {
    return (long)request.requestToken;
  }
 else {
    return 0;
  }
}
