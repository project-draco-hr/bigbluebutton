{
  if (context.bwConfig[3] >= 0) {
    if (context.tokenRc[3] >= request.requestToken) {
      context.tokenRc[3]-=request.requestToken;
    }
 else {
      request.requestToken=context.tokenRc[3];
      context.tokenRc[3]=0;
    }
  }
 else {
    if (context.tokenRc[request.channel] < 0)     return true;
    if (context.tokenRc[request.channel] >= request.requestToken) {
      context.tokenRc[request.channel]-=request.requestToken;
    }
 else {
      request.requestToken=context.tokenRc[request.channel];
      context.tokenRc[request.channel]=0;
    }
  }
  if (request.requestToken == 0)   return false;
 else   return true;
}
