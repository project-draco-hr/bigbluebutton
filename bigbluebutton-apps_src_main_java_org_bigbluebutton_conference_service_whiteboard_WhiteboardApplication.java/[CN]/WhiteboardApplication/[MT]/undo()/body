{
  String meetingID=getMeetingId();
  if (rooms.containsKey(meetingID)) {
    WhiteboardRoom room=rooms.get(meetingID);
    room.undo();
    if (room.isRecorded()) {
      recordingService.undoWBGraphic(meetingID,room.getPresentationID(),room.getPageNumber());
    }
    Map<String,Object> message=new HashMap<String,Object>();
    ClientMessage m=new ClientMessage(ClientMessage.BROADCAST,meetingID,"WhiteboardUndoCommand",message);
    connInvokerService.sendMessage(m);
  }
}
