{
  String threadName;
  threadName=Thread.currentThread().getName();
  logger.info("Begin AgiScript " + getScriptName(script) + " on "+ threadName);
  try {
    script.service(request,channel);
    setStatusVariable(channel,AJ_AGISTATUS_SUCCESS);
  }
 catch (  AgiException e) {
    logger.error("AgiException running AgiScript " + getScriptName(script) + " on "+ threadName,e);
    setStatusVariable(channel,AJ_AGISTATUS_FAILED);
  }
catch (  Exception e) {
    logger.error("Exception running AgiScript " + getScriptName(script) + " on "+ threadName,e);
    setStatusVariable(channel,AJ_AGISTATUS_FAILED);
  }
  logger.info("End AgiScript " + getScriptName(script) + " on "+ threadName);
}
