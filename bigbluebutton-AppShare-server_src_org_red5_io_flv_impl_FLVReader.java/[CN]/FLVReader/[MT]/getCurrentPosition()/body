{
  long pos;
  if (!useLoadBuf) {
    return in.position();
  }
  try {
    if (in != null) {
      pos=(channel.position() - in.remaining());
    }
 else {
      pos=channel.position();
    }
    return pos;
  }
 catch (  Exception e) {
    log.error("Error getCurrentPosition",e);
    return 0;
  }
}
