{
  List<String> lines;
  AgiRequest request;
  lines=new ArrayList<String>();
  lines.add("agi_network_script: myscript.agi?param1=value1&param1=value2");
  lines.add("agi_request: agi://host/myscript.agi?param1=value1&param1=value2");
  request=new AgiRequestImpl(lines);
  assertEquals("incorrect script","myscript.agi",request.getScript());
  assertEquals("incorrect requestURL","agi://host/myscript.agi?param1=value1&param1=value2",request.getRequestURL());
  assertEquals("incorrect number of values for parameter 'param1'",2,request.getParameterValues("param1").length);
  assertEquals("incorrect value[0] for parameter 'param1'","value1",request.getParameterValues("param1")[0]);
  assertEquals("incorrect value[1] for parameter 'param1'","value2",request.getParameterValues("param1")[1]);
}
