{
  ByteBuffer result=ByteBuffer.allocate(1024);
  result.setAutoExpand(true);
  result.put((byte)(FLV_FRAME_KEY | FLV_CODEC_SCREEN));
  result.putShort((short)this.widthInfo);
  result.putShort((short)this.heightInfo);
  byte[] tmpData=new byte[this.blockDataSize];
  int pos=0;
  for (int idx=0; idx < this.blockCount; idx++) {
    int size=this.blockSize[idx];
    if (size == 0) {
      return null;
    }
    result.putShort((short)size);
    System.arraycopy(this.blockData,pos,tmpData,0,size);
    result.put(tmpData,0,size);
    pos+=this.blockDataSize;
  }
  result.rewind();
  return result;
}
