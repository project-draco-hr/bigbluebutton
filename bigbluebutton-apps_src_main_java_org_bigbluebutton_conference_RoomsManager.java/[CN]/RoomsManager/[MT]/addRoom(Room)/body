{
  log.debug("Adding room {}",room.getName());
  room.addRoomListener(new ParticipantUpdatingRoomListener(room,publisher));
  if (checkPublisher()) {
    HashMap<String,String> map=new HashMap<String,String>();
    map.put("meetingId",room.getName());
    map.put("messageId",MessagingConstants.MEETING_STARTED_EVENT);
    Gson gson=new Gson();
    publisher.publish(MessagingConstants.SYSTEM_CHANNEL,gson.toJson(map));
    log.debug("Notified event listener of conference start");
  }
  rooms.put(room.getName(),room);
}
