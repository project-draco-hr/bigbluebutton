{
  Category category;
  category=configFileReader.parseCategoryHeader("test.conf",1,"[foo]");
  assertEquals("Incorrect category name","foo",category.getName());
  assertEquals("Incorrect line number",1,category.getLineNumber());
  assertEquals("Incorrect file name","test.conf",category.getFileName());
  category=configFileReader.parseCategoryHeader("test.conf",1,"[foo](!)");
  assertEquals("Incorrect category name","foo",category.getName());
  assertTrue("Category not flagged as template",category.isTemplate());
  category=configFileReader.parseCategoryHeader("test.conf",1,"[foo](+)");
  assertEquals("Incorrect category name","foo",category.getName());
  try {
    configFileReader.parseCategoryHeader("test.conf",1,"[foo](a)");
    fail("Expected exception when requesting inheritance from a non-existing catagory");
  }
 catch (  ConfigParseException e) {
    assertEquals("Inheritance requested, but category 'a' does not exist, line 1 of test.conf",e.getMessage());
    assertEquals("Incorrect line number",1,e.getLineNumber());
    assertEquals("Incorrect file name","test.conf",e.getFileName());
  }
  try {
    configFileReader.parseCategoryHeader("test.conf",1,"[foo");
    fail("Expected exception when closing ']' is missing");
  }
 catch (  ConfigParseException e) {
    assertEquals(e.getMessage(),"parse error: no closing ']', line 1 of test.conf");
  }
  try {
    configFileReader.parseCategoryHeader("test.conf",1,"[foo](bar");
    fail("Expected exception when closing ')' is missing");
  }
 catch (  ConfigParseException e) {
    assertEquals(e.getMessage(),"parse error: no closing ')', line 1 of test.conf");
  }
}
