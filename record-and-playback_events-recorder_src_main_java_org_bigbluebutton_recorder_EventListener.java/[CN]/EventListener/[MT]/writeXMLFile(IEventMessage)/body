{
  try {
    Document manifest=parseManifestXML(event.getConferenceID(),true);
    Node sequence=manifest.getElementsByTagName("seq").item(0);
    InputSource is=new InputSource();
    is.setCharacterStream(new StringReader(event.getMessage()));
    Document docevent=createDocBuilder().parse(is);
    Element element=docevent.getDocumentElement();
    Node dup=manifest.importNode(element,true);
    NamedNodeMap attributes=dup.getAttributes();
    Attr timestamp=manifest.createAttribute("timestamp");
    timestamp.setValue(event.getTimeStamp() + "");
    attributes.setNamedItem(timestamp);
    sequence.appendChild(dup);
    manifest.setXmlStandalone(true);
    DOMSource source=new DOMSource(manifest);
    File file=new File(pathConferences + "/" + event.getConferenceID()+ "/"+ event.getConferenceID()+ "/"+ FILENAME);
    StreamResult result=new StreamResult(file);
    Transformer transformer=TransformerFactory.newInstance().newTransformer();
    transformer.setOutputProperty(OutputKeys.INDENT,"yes");
    transformer.transform(source,result);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
