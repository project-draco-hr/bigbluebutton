{
  boolean notifyAll=false;
  User p=null;
synchronized (this) {
    if (participants.containsKey(userid)) {
      p=participants.get(userid);
      if (recording != this.recording) {
        log.debug("Changed recording status to " + recording);
        this.recording=recording;
        notifyAll=true;
      }
    }
  }
  if (notifyAll) {
    for (Iterator it=listeners.values().iterator(); it.hasNext(); ) {
      IRoomListener listener=(IRoomListener)it.next();
      log.debug("calling recordingStatusChange on listener " + listener.getName());
      listener.recordingStatusChange(p,recording);
    }
  }
}
