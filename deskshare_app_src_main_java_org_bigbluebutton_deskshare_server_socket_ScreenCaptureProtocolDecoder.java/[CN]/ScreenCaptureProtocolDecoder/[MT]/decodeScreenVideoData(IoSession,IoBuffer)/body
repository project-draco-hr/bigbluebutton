{
  int start=in.position();
  byte isKeyFrame=in.get();
  int length=in.getInt();
  if (in.remaining() < length) {
    in.position(start);
    return false;
  }
  byte[] data=new byte[length];
  in.get(data,0,length);
  boolean keyFrame=false;
  if (isKeyFrame == 1) {
    keyFrame=true;
  }
  session.setAttribute(IS_KEY_FRAME,new Boolean(keyFrame));
  session.setAttribute(ENCODED_DATA,data);
  return true;
}
