{
  if (channel.equalsIgnoreCase(MessagingConstants.TO_USERS_CHANNEL)) {
    JsonParser parser=new JsonParser();
    JsonObject obj=(JsonObject)parser.parse(message);
    JsonObject headerObject=(JsonObject)obj.get("header");
    JsonObject payloadObject=(JsonObject)obj.get("payload");
    String eventName=headerObject.get("name").toString().replace("\"","");
    if (eventName.equalsIgnoreCase("user_leaving_request") || eventName.equalsIgnoreCase("user_raised_hand_message") || eventName.equalsIgnoreCase("user_lowered_hand_message")) {
      String roomName=payloadObject.get("meeting_id").toString().replace("\"","");
      String userID=payloadObject.get("userid").toString().replace("\"","");
      if (eventName.equalsIgnoreCase("user_leaving_request")) {
        log.warn("TODO: Need to pass sessionId on user_leaving_request message.");
        String sessionId="tobeimplemented";
        bbbInGW.userLeft(roomName,userID,sessionId);
      }
 else       if (eventName.equalsIgnoreCase("user_raised_hand_message")) {
        bbbInGW.userRaiseHand(roomName,userID);
      }
 else       if (eventName.equalsIgnoreCase("user_lowered_hand_message")) {
        String requesterID=payloadObject.get("lowered_by").toString().replace("\"","");
        bbbInGW.lowerHand(roomName,userID,requesterID);
      }
    }
  }
}
