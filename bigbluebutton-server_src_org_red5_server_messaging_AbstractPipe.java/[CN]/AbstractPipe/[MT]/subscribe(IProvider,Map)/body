{
synchronized (providers) {
    if (providers.contains(provider)) {
      return false;
    }
    providers.add(provider);
  }
  if (provider instanceof IPipeConnectionListener) {
    listeners.add((IPipeConnectionListener)provider);
  }
  return true;
}
