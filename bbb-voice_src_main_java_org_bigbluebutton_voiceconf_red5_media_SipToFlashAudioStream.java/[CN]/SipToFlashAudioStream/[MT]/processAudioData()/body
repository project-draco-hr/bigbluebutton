{
  int len=160;
  byte[] pcmAudio=new byte[len];
  int remaining=len;
  int offset=0;
  while (processAudioData) {
    try {
      if (streamToFlash.available() > 1000) {
        long skipped=streamToFlash.skip(1000L);
      }
      int bytesRead=streamToFlash.read(pcmAudio,offset,remaining);
      remaining-=bytesRead;
      if (remaining == 0) {
        remaining=len;
        offset=0;
        transcoder.transcode(pcmAudio,this);
      }
 else {
        offset+=bytesRead;
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
