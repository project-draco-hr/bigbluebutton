{
  if (!(config instanceof IConnectionBWConfig)) {
    return;
  }
  this.bwConfig=(IConnectionBWConfig)config;
  if (bwConfig.getDownstreamBandwidth() > 0) {
    ServerBW serverBW=new ServerBW((int)bwConfig.getDownstreamBandwidth() / 8);
    getChannel((byte)2).write(serverBW);
  }
  if (bwConfig.getUpstreamBandwidth() > 0) {
    ClientBW clientBW=new ClientBW((int)bwConfig.getUpstreamBandwidth() / 8,(byte)0);
    getChannel((byte)2).write(clientBW);
    bytesReadInterval=(int)bwConfig.getUpstreamBandwidth() / 8;
    nextBytesRead=(int)getWrittenBytes();
  }
  if (bwContext != null) {
    IBWControlService bwController=(IBWControlService)getScope().getContext().getBean(IBWControlService.KEY);
    bwController.updateBWConfigure(bwContext);
  }
}
