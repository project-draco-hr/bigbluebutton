{
  Set<IConnection> connections;
  if (client == null) {
    connections=new HashSet<IConnection>();
    Iterator<IConnection> iter=scope.getConnections();
    while (iter.hasNext()) {
      connections.add(iter.next());
    }
  }
 else {
    connections=scope.lookupConnections(client);
    if (connections == null)     return;
  }
  if (callback == null) {
    for (    IConnection conn : connections) {
      invokeOnConnection(conn,method,params);
    }
  }
 else {
    for (    IConnection conn : connections) {
      invokeOnConnection(conn,method,params,callback);
    }
  }
}
