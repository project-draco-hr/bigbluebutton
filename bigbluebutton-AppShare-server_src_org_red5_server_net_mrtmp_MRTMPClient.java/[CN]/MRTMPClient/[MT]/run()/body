{
  while (true) {
synchronized (ioHandlerWrapper) {
      if (needReconnect) {
        doConnect();
        needReconnect=false;
      }
      try {
        ioHandlerWrapper.wait();
      }
 catch (      Exception e) {
      }
    }
  }
}
