{
  ManagerResponse response;
  try {
    if (timeout <= 0) {
      if (pingCount == 5) {
        log.debug("Sending Ping");
        pingCount=0;
      }
      pingCount++;
      connection.sendAction(new PingAction(),null);
      pingCount++;
    }
 else {
      log.debug("Sending ping response:");
      response=connection.sendAction(new PingAction(),timeout);
      log.debug("Got ping response:" + response);
    }
  }
 catch (  Exception e) {
    log.warn("Exception on sending Ping",e);
  }
}
