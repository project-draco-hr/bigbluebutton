{
  ChatObject chatobj=new ChatObject(msg,username,color,time,language,userid);
  messages.add(chatobj);
  for (Iterator iter=listeners.values().iterator(); iter.hasNext(); ) {
    log.debug("calling on listener");
    IChatRoomListener listener=(IChatRoomListener)iter.next();
    log.debug("calling newChatMessage on listener " + listener.getName());
    listener.newChatMessage(chatobj);
  }
}
