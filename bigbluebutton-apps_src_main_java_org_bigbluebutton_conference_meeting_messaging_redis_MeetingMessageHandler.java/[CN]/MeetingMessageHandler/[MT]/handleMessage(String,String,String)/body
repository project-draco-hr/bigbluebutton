{
  if (channel.equalsIgnoreCase(MessagingConstants.TO_MEETING_CHANNEL)) {
    IMessage msg=MessageFromJsonConverter.convert(message);
    if (msg != null) {
      if (msg instanceof EndMeetingMessage) {
        EndMeetingMessage emm=(EndMeetingMessage)msg;
        log.debug("Received end meeting request. Meeting id [{}]",emm.meetingId);
        bbbGW.endMeeting(emm.meetingId);
      }
 else       if (msg instanceof CreateMeetingMessage) {
        CreateMeetingMessage emm=(CreateMeetingMessage)msg;
        bbbGW.createMeeting2(emm.id,emm.name,emm.record,emm.voiceBridge,emm.duration,emm.autoStartRecording,emm.allowStartStopRecording);
      }
 else       if (msg instanceof RegisterUserMessage) {
        RegisterUserMessage emm=(RegisterUserMessage)msg;
        bbbGW.registerUser(emm.meetingID,emm.internalUserId,emm.fullname,emm.role,emm.externUserID,emm.authToken);
      }
 else       if (msg instanceof DestroyMeetingMessage) {
        DestroyMeetingMessage emm=(DestroyMeetingMessage)msg;
        log.debug("Received destroy meeting request. Meeting id [{}]",emm.meetingId);
        bbbGW.destroyMeeting(emm.meetingId);
      }
 else       if (msg instanceof ValidateAuthTokenMessage) {
        ValidateAuthTokenMessage emm=(ValidateAuthTokenMessage)msg;
        log.debug("Received ValidateAuthTokenMessage token request. Meeting id [{}]",emm.meetingId);
        bbbGW.validateAuthToken(emm.meetingId,emm.userId,emm.token,emm.replyTo);
      }
 else       if (msg instanceof UserConnectedToGlobalAudio) {
        UserConnectedToGlobalAudio emm=(UserConnectedToGlobalAudio)msg;
        log.info("Received UserConnectedToGlobalAudio token request. user id [{}]",emm.name);
        bbbGW.userConnectedToGlobalAudio(emm.voiceConf,emm.userid,emm.name);
      }
 else       if (msg instanceof UserDisconnectedFromGlobalAudio) {
        UserDisconnectedFromGlobalAudio emm=(UserDisconnectedFromGlobalAudio)msg;
        log.debug("Received UserDisconnectedFromGlobalAudio token request. Meeting id [{}]",emm.name);
        bbbGW.userDisconnectedFromGlobalAudio(emm.voiceConf,emm.userid,emm.name);
      }
 else       if (msg instanceof GetAllMeetingsRequest) {
        GetAllMeetingsRequest emm=(GetAllMeetingsRequest)msg;
        log.info("Received GetAllMeetingsRequest");
        bbbGW.getAllMeetings("no_need_of_a_meeting_id");
      }
    }
  }
 else   if (channel.equalsIgnoreCase(MessagingConstants.TO_SYSTEM_CHANNEL)) {
    IMessage msg=MessageFromJsonConverter.convert(message);
    if (msg != null) {
      if (msg instanceof KeepAliveMessage) {
        KeepAliveMessage emm=(KeepAliveMessage)msg;
        log.debug("Received KeepAliveMessage request. Meeting id [{}]",emm.keepAliveId);
        bbbGW.isAliveAudit(emm.keepAliveId);
      }
    }
  }
}
