{
  log.debug("Checking message: " + pattern + " "+ channel+ " "+ message);
  if (channel.equalsIgnoreCase(MessagingConstants.SYSTEM_CHANNEL)) {
    Gson gson=new Gson();
    HashMap<String,String> map=gson.fromJson(message,new TypeToken<Map<String,String>>(){
    }
.getType());
    String messageId=map.get("messageId");
    if (messageId != null) {
      if (MessagingConstants.END_MEETING_REQUEST_EVENT.equalsIgnoreCase(messageId)) {
        String meetingId=map.get("meetingId");
        log.info("Received end meeting request. Meeting id [{}]",meetingId);
        bbbGW.endMeeting(meetingId);
      }
 else       if (messageId.equalsIgnoreCase(KEEP_ALIVE_REQUEST)) {
        String keepAliveId=map.get("aliveId");
        bbbGW.isAliveAudit(keepAliveId);
      }
 else       if (MessagingConstants.CREATE_MEETING_REQUEST_EVENT.equalsIgnoreCase(messageId)) {
        String meetingID=map.get("meetingID");
        log.info("Received create meeting request. Meeting id [{}]",meetingID);
        Boolean record=Boolean.parseBoolean(map.get("record"));
        String voiceBridge=map.get("voiceBridge");
        String meetingName=map.get("meetingName");
        Long duration=Long.parseLong(map.get("duration"));
        bbbGW.createMeeting2(meetingID,meetingName,record,voiceBridge,duration);
      }
 else       if (MessagingConstants.DESTROY_MEETING_REQUEST_EVENT.equalsIgnoreCase(messageId)) {
        String meetingID=map.get("meetingID");
        log.info("Received destroy meeting request. Meeting id [{}]",meetingID);
        bbbGW.destroyMeeting(meetingID);
      }
    }
  }
}
