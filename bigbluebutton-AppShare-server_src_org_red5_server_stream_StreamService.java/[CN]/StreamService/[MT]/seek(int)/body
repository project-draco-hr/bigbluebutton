{
  IConnection conn=Red5.getConnectionLocal();
  if (!(conn instanceof IStreamCapableConnection)) {
    return;
  }
  IStreamCapableConnection streamConn=(IStreamCapableConnection)conn;
  int streamId=getCurrentStreamId();
  IClientStream stream=streamConn.getStreamById(streamId);
  if (stream == null || !(stream instanceof ISubscriberStream)) {
    return;
  }
  ISubscriberStream subscriberStream=(ISubscriberStream)stream;
  try {
    subscriberStream.seek(position);
  }
 catch (  OperationNotSupportedException err) {
    Status seekFailed=new Status(StatusCodes.NS_SEEK_FAILED);
    seekFailed.setClientid(streamId);
    seekFailed.setDesciption("The stream doesn't support seeking.");
    seekFailed.setLevel("error");
    Channel channel=((RTMPConnection)streamConn).getChannel((byte)(4 + ((streamId - 1) * 5)));
    channel.sendStatus(seekFailed);
  }
}
