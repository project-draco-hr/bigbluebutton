{
  if (checkWriteReference(array))   return;
  storeReference(array);
  buf.put(AMF.TYPE_MIXED_ARRAY);
  buf.putInt(array.size() + 1);
  int idx=0;
  for (  Object item : array) {
    if (item != null) {
      putString(String.valueOf(idx++));
      serializer.serialize(this,item);
    }
 else {
      idx++;
    }
  }
  putString("length");
  serializer.serialize(this,array.size() + 1);
  buf.put((byte)0x00);
  buf.put((byte)0x00);
  buf.put(AMF.TYPE_END_OF_OBJECT);
}
