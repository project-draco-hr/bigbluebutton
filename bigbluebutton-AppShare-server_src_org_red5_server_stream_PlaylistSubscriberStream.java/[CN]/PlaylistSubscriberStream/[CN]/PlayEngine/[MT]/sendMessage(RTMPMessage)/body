{
  if (vodStartTS == -1) {
    vodStartTS=message.getBody().getTimestamp();
  }
 else {
    if (currentItem.getLength() >= 0) {
      int duration=message.getBody().getTimestamp() - vodStartTS;
      if (duration - streamOffset >= currentItem.getLength()) {
        stop();
        return;
      }
    }
  }
  lastMessage=message.getBody();
  if (lastMessage instanceof IStreamData) {
    bytesSent+=((IStreamData)lastMessage).getData().limit();
  }
  doPushMessage(message);
}
