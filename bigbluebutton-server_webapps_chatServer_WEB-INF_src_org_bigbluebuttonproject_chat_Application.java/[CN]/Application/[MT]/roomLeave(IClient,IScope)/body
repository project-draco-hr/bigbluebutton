{
  this.getSharedObject(room,"chatSO");
  if (!hasSharedObject(room,"chatSO")) {
    if (!createSharedObject(room,"chatSO",false))     log.error("Sharedobject::chatSO could not be created");
  }
  ISharedObject so=getSharedObject(room,"chatSO",false);
  if (so == null) {
    log.error("Sharedobject::chatSO was not created");
  }
  Set<IClient> clientList;
  clientList=room.getClients();
  if (clientList.isEmpty()) {
    log.debug("Client List is Empty");
    chatListener=new ChatSharedObjectListener();
    chatListener.clearChatLog();
  }
  Set<IConnection> conn=client.getConnections(room);
  if (conn instanceof IServiceCapableConnection) {
    IServiceCapableConnection sc=(IServiceCapableConnection)conn;
    String chatLog=chatListener.getChatLog();
    sc.invoke("setChatLog",new Object[]{chatLog});
  }
}
