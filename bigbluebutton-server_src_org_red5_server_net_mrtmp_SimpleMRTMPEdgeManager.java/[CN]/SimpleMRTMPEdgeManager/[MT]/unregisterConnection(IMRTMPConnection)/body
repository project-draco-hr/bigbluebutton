{
  boolean ret=connList.remove(conn);
  if (ret) {
    Collection<RTMPConnection> rtmpConns=rtmpConnManager.removeConnections();
    for (Iterator<RTMPConnection> iter=rtmpConns.iterator(); iter.hasNext(); ) {
      RTMPConnection rtmpConn=iter.next();
      rtmpConn.close();
    }
  }
  return ret;
}
