{
  try {
    System.err.println("Args: " + args);
    MidiDevice dev=getCurrentMidiDevice(true);
    if (dev == null) {
      log.error("Midi device is null, call connectToMidi first");
      return false;
    }
    final ShortMessage msg=new ShortMessage();
switch (args.size()) {
case 1:
      msg.setMessage(args.get(0));
    break;
case 3:
  msg.setMessage(args.get(0),args.get(1),args.get(2));
break;
case 4:
msg.setMessage(args.get(0),args.get(1),args.get(2),args.get(3));
break;
default :
log.error("Args array must have length 1, 3, or 4");
return false;
}
dev.getReceiver().send(msg,time);
}
 catch (Exception e) {
e.printStackTrace(System.err);
}
return true;
}
