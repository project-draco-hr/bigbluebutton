{
synchronized (this) {
    try {
      pixels=ScreenVideoEncoder.getPixels(capturedScreen,getX(),getY(),getWidth(),getHeight());
    }
 catch (    PixelExtractException e) {
      System.out.println(e.toString());
    }
    if (!checksumSame()) {
      if (sendFlag.compareAndSet(false,true)) {
        System.out.println("Block " + position + " has changed. Need to send it.");
        return true;
      }
 else {
        System.out.println("Block " + position + " has changed but is already queued for sending.");
        return false;
      }
    }
  }
  return false;
}
