{
  int[] pixelsCopy=new int[capturedPixels.length];
synchronized (pixelsLock) {
    dirtyFlag.set(false);
    System.arraycopy(capturedPixels,0,pixelsCopy,0,capturedPixels.length);
  }
  byte[] encodedBlock=ScreenVideoEncoder.encodePixels(pixelsCopy,getWidth(),getHeight());
  return new EncodedBlockData(position,encodedBlock);
}
