{
  int[] pixelsCopy=new int[pixels.length];
synchronized (this) {
    dirtyFlag.compareAndSet(true,false);
    checksum.update(0);
    System.arraycopy(pixels,0,pixelsCopy,0,pixels.length);
  }
  byte[] encodedBlock=ScreenVideoEncoder.encodePixels(pixelsCopy,getWidth(),getHeight());
  return new EncodedBlockData(position,encodedBlock);
}
