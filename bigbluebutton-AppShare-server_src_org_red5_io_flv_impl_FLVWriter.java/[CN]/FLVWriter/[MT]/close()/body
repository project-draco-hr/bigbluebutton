{
  try {
    if (metaPosition > 0) {
      long oldPos=channel.position();
      try {
        channel.position(metaPosition);
        writeMetadataTag(duration * 0.001,videoCodecId,audioCodecId);
      }
  finally {
        channel.position(oldPos);
      }
    }
    channel.close();
    fos.close();
  }
 catch (  IOException e) {
    log.error("FLVWriter :: close ::>\n",e);
  }
}
