def main():
    meetingId = ''
    ingestDir = ''
    publishDir = ''
    try:
        (opts, args) = getopt.getopt(sys.argv[1:], 'hm:i:p:', ['help', 'meeting-id=', 'ingest-dir=', 'publish-dir='])
    except getopt.GetoptError as err:
        print str(err)
        usage()
        sys.exit(2)
    for (o, a) in opts:
        if (o in ('-h', '--help')):
            usage()
            sys.exit()
        elif (o in ('-m', '--meeting-id')):
            meetingId = a
        elif (o in ('-i', '--ingest-dir')):
            ingestDir = a
        elif (o in ('-p', '--publish-dir')):
            publishDir = a
        else:
            assert False, 'unhandled option'
    printUsage = False
    if (meetingId == ''):
        print 'Missing meeting id.'
        printUsage = True
    if (ingestDir == ''):
        print 'Missing ingest dir.'
        printUsage = True
    if (publishDir == ''):
        print 'Missing publish dir.'
        printUsage = True
    if printUsage:
        printUsageHelp()
    copy_files_to_publish_dir(meetingId, ingestDir, publishDir)
