def generate_index_html(publishDir, playbackHost):
    '\n        Copy all audio recordings and presentations into the archive directory.\n    '
    html = page = E.html(E.head(E.title('List of recordings'), E.body(E.h1('List of recordings!'))))
    dirList = os.listdir(publishDir)
    ctimeDict = {}
    ctimes = []
    for fname in dirList:
        if os.path.isdir(((publishDir + '/') + fname)):
            tree = etree.parse((((publishDir + '/') + fname) + '/events.xml'))
            r = tree.xpath('/events/head/title')
            title = r[0].text
            print r[0].text
            ctime = os.path.getctime(((publishDir + '/') + fname))
            ctimes.append(ctime)
            link = ((('http://' + playbackHost) + '/playback/playback.html?meetingId=') + fname)
            ctimeDict[ctime] = (title, fname, link)
    ctimes.sort()
    ctimes.reverse()
    for c in ctimes:
        lnk = ctimeDict[c]
        ev = E.p(time.ctime(c), E.a(lnk[0], href=lnk[2]))
        page.append(ev)
    print etree.tostring(page, pretty_print=True)
    targetFile = (publishDir + '/index.html')
    f = open(targetFile, 'w')
    f.write(etree.tostring(page, pretty_print=True))
    f.close()
