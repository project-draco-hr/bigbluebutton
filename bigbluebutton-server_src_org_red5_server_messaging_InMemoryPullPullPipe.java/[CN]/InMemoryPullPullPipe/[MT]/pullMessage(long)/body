{
  IMessage message=null;
  int size=providers.size();
  long averageWait=size > 0 ? wait / size : 0;
  for (  IProvider provider : providers) {
    if (!(provider instanceof IPullableProvider))     continue;
    try {
      message=((IPullableProvider)provider).pullMessage(this,averageWait);
      if (message != null) {
        break;
      }
    }
 catch (    Throwable t) {
      log.error("exception when pulling message from provider",t);
    }
  }
  return message;
}
