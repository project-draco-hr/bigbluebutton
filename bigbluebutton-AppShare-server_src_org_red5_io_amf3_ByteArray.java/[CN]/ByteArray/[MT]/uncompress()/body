{
  data.position(0);
  InflaterInputStream inflater=new InflaterInputStream(data.asInputStream());
  byte[] buffer=new byte[8192];
  ByteBuffer tmp=ByteBuffer.allocate(0);
  tmp.setAutoExpand(true);
  try {
    while (inflater.available() > 0) {
      int decompressed=inflater.read(buffer);
      if (decompressed <= 0) {
        break;
      }
      tmp.put(buffer,0,decompressed);
    }
  }
 catch (  IOException e) {
    tmp.release();
    throw new RuntimeException("could not uncompress data",e);
  }
  data.release();
  data=tmp;
  data.flip();
  prepareIO();
}
