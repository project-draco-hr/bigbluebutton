{
  if (handshake == null || length != handshake.length) {
    return false;
  }
  byte[] reply=new byte[length];
  int old=data.position();
  data.position(start);
  data.get(reply);
  data.position(old);
  return Arrays.equals(reply,handshake);
}
