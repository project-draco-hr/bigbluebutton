{
  String presentationName=(String)message.get("presentationName");
  String messageKey=(String)message.get("messageKey");
  HashMap<String,String> map=new HashMap<String,String>();
  map.put("presentationName",presentationName);
  if (messageKey.equalsIgnoreCase(GENERATED_SLIDE_KEY)) {
    log.debug("{}[{}]",messageKey,presentationName);
    map.put("event","generated_slide");
    map.put("numberOfPages",message.get("numberOfPages").toString());
    map.put("pagesCompleted",message.get("pagesCompleted").toString());
  }
 else   if (messageKey.equalsIgnoreCase(CONVERSION_COMPLETED_KEY)) {
    log.debug("{}[{}]",messageKey,presentationName);
    map.put("event","generated_slide");
    map.put("slidesInfo",message.get("slidesInfo").toString());
  }
 else {
    log.error("NOT recording received message {}",messageKey);
  }
  recordEvent(map);
}
