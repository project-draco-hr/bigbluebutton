{
  processBlocks=true;
  while (processBlocks) {
    EncodedBlockData block;
    try {
      block=retriever.fetchNextBlockToSend();
      BlockVideoData bv=new BlockVideoData(room,block.getPosition(),block.getVideoData(),false);
      sendBlockData(bv);
    }
 catch (    InterruptedException e) {
      System.out.println("ERROR: Interrupted exception while proccessing block for sending.");
    }
  }
}
